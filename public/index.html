<!DOCTYPE html>
<html lang="zh-cmn-Hans">
    <head>
        <meta charset="utf-8" />
        <meta name="keywords" content="" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta
            name="viewport"
            content="initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
        />
        <meta http-equiv="Expires" content="0" />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-control" content="no-cache" />
        <meta http-equiv="Cache" content="no-cache" />
        <meta name="renderer" content="webkit" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <meta name="wap-font-scale" content="no" />
        <link rel="icon" href="/static/favicon.ico" />
        <title></title>
        <script>
            ;+(function(designWidth, maxWidth) {
                var doc = document,
                    win = window,
                    docEl = doc.documentElement,
                    remStyle = document.createElement('style'),
                    tid

                function refreshRem() {
                    var width = docEl.getBoundingClientRect().width
                    maxWidth = maxWidth || 540
                    width > maxWidth && (width = maxWidth)
                    var rem = (width * 100) / designWidth
                    remStyle.innerHTML = 'html{font-size:' + rem + 'px;}'
                }

                if (docEl.firstElementChild) {
                    docEl.firstElementChild.appendChild(remStyle)
                } else {
                    var wrap = doc.createElement('div')
                    wrap.appendChild(remStyle)
                    doc.write(wrap.innerHTML)
                    wrap = null
                }
                //要等 wiewport 设置好后才能执行 refreshRem，不然 refreshRem 会执行2次；
                refreshRem()

                win.addEventListener(
                    'resize',
                    function() {
                        clearTimeout(tid) //防止执行两次
                        tid = setTimeout(refreshRem, 300)
                    },
                    false
                )

                win.addEventListener(
                    'pageshow',
                    function(e) {
                        if (e.persisted) {
                            // 浏览器后退的时候重新计算
                            clearTimeout(tid)
                            tid = setTimeout(refreshRem, 300)
                        }
                    },
                    false
                )

                if (doc.readyState === 'complete') {
                    doc.body.style.fontSize = '16px'
                } else {
                    doc.addEventListener(
                        'DOMContentLoaded',
                        function(e) {
                            doc.body.style.fontSize = '16px'
                        },
                        false
                    )
                }
            })(750, 750)
        </script>
    </head>
    <body>
        <noscript> <strong>请启用JavaScript，然后刷新页面。</strong> </noscript>
        <div id="app"></div>
    </body>
</html>
